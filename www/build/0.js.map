{"version":3,"sources":["../../src/pages/welcome/welcome.module.ts","../../src/pages/welcome/welcome.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { WelcomePage } from './welcome';\n\n@NgModule({\n  declarations: [\n    WelcomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(WelcomePage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    WelcomePage\n  ]\n})\nexport class WelcomePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController,LoadingController, Loading } from 'ionic-angular';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { Storage } from '@ionic/storage';\nimport { Network } from '@ionic-native/network';\n\nimport { RezoomProvider } from '../../providers/rezoom/rezoom';\n\n\n\n\n/**\n * The Welcome Page is a splash page that quickly describes the app,\n * and then directs the user to create an account or log in.\n * If you'd like to immediately put the user onto a login/signup page,\n * we recommend not using the Welcome page.\n*/\n@IonicPage()\n@Component({\n  selector: 'page-welcome',\n  templateUrl: 'welcome.html'\n})\nexport class WelcomePage {\n\n\tlogged= false;\n  scanning = false;\n  images: any;\n  loading: Loading;\n  date_datas:any;\n\n  all_datas:any;\n\t\n  constructor(public navCtrl: NavController, public nativeStorage: NativeStorage,\n    public loadingCtrl: LoadingController,\n    private network: Network,\n    public rezoom: RezoomProvider,\n    public storage: Storage\n    ) {\n      this.nativeStorage.getItem(\"user\").then(user =>{\n        this.logged = true;\n      }, error => {\n        this.logged = false;\n      });\n\n      \n   }\n\n  ionViewDidLoad() {\n\n    this.nativeStorage.getItem('lieux').then((lieux) => {\n        this.date_datas = lieux.date;\n    });\n  }\n\n   \n\n  scan(){\n   this.navCtrl.push('ScanPage');\n    \n  }\n\n  login() {\n    if(navigator.onLine){\n      this.navCtrl.push('LoginPage');\n    }else{\n      alert(\"Connectez vous à un réseau wifi!\");\n    }\n    \n  }\n\n  signup() {\n    this.navCtrl.push('SignupPage');\n  }\n\n  upload(){\n    if(navigator.onLine){\n      this.navCtrl.push('UploadPage');\n    }else{\n      alert(\"Connectez vous à un réseau wifi!\");\n    }\n    \n  }\n\n  logout(){\n    this.nativeStorage.remove(\"user\").then(data => {\n      this.logged = false;\n    });\n  }\n\n  \n\n  importDatas(){\n    \n    // var networkState = navigator.connection.type;\n    // var states = {};\n    // states[Connection.UNKNOWN]  = 'Unknown connection';\n    // states[Connection.ETHERNET] = 'Ethernet connection';\n    // states[Connection.WIFI]     = 'WIFI';\n    // states[Connection.CELL_2G]  = '2G';\n    // states[Connection.CELL_3G]  = '3G';\n    // states[Connection.CELL_4G]  = '4G';\n    // states[Connection.CELL]     = 'Cell generic connection';\n    // states[Connection.NONE]     = 'No network connection';\n\n    if(navigator.onLine){\n        this.loading = this.loadingCtrl.create({\n          content: 'Importation des données...',\n        });\n        this.loading.present();\n       \n        this.rezoom.importDatas().subscribe(datas => {\n              \n              \n              var d = Date.now();\n              var date = new Date(d);\n              var month = date.getMonth()+1;\n\n              var date_now = (date.getDate() < 10 ? \"0\"+date.getDate() : date.getDate())+\"/\"+(month < 10 ? \"0\"+month : month)+\"/\"+date.getFullYear()+\" à \"+date.getHours()+\":\"+date.getMinutes()+\":\"+date.getSeconds();\n              // this.nativeStorage.remove(\"lieux\").then(rm => {\n              //     this.nativeStorage.setItem(\"lieux\",  {\"date\": date_now, \"value\": datas}).then(d => {\n              //       this.date_datas = d.date_now;\n              //       this.\n              //       alert(\"Données importées avec succès!\");\n                    \n              //     });\n              // })\n\n\n\n              console.log(\"storing\");\n              this.nativeStorage.setItem(\"lieux\", {\"date\" : date_now, \"lieux\": datas});\n              this.nativeStorage.getItem('lieux').then((lieux) => {\n                  this.date_datas = lieux.date;\n                  this.loading.dismissAll();\n              });\n\n            });\n    } else{\n       alert(\"Vous n'êtes pas connecté. Conectez-vous à un réseau wifi!\");\n       this.loading.dismissAll();\n    }\n\n    \n\n    \n            \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.ts"],"sourceRoot":""}