{"version":3,"sources":["../../src/pages/upload/upload.module.ts","../../src/pages/upload/upload.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UploadPage } from './upload';\n\n@NgModule({\n  declarations: [\n    UploadPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(UploadPage),\n  ],\n})\nexport class UploadPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload/upload.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { RezoomProvider } from '../../providers/rezoom/rezoom';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';\nimport { File } from '@ionic-native/file';\nimport {  HttpErrorResponse  } from '@angular/common/http';\n/**\n * Generated class for the UploadPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\ndeclare var cordova: any;\n\n@IonicPage()\n@Component({\n  selector: 'page-upload',\n  templateUrl: 'upload.html',\n})\nexport class UploadPage {\n\t/*images: any= [{name: \"test\", campagnes: [] , upload: false}, {name: \"test\", campagnes: [] , upload: true}];*/\n\timages:any=[];\n\timgstr:any;\n\tuploaded = false;\n  constructor(public navCtrl: NavController, public navParams: NavParams,public nativeStorage: NativeStorage, public rezoom: RezoomProvider) {\n  \n  \t\n\n  \t\n    \n  }\n\n  ionViewDidLoad() {\n  \t/*let img = {name: \"test.jpg\", id_campagne: 45 , upload: false, id_lieu: 621, date_upload: '2018-4-5 12:12:00', base64: \"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\"};\n\n  \tthis.rezoom.sendImageBase64(img).subscribe(data => {});*/\n  \t\n  \t\t this.nativeStorage.getItem('images').then(data => {\n\t       \tthis.images  = data;\n\t       \tlet image_array =[];\n\t       \tfor (var i = 0; i < this.images.length; i++) {\n\t       \t\tfor (var j = 0; j < this.images[i].campagnes.length; j++) {\n\t       \t\t\tlet img =this.images[i];\n\t       \t\t\t\t\n\t       \t\t\t\tlet file64 = img.base64.split(',');\n\t       \t\t\t\tfile64.shift();\n\t       \t\t\t\tfile64 = file64.join(',');\n\n\t       \t\t\t\tlet img_json = {name: img.name, id_campagne: img.campagnes[j].id_campagne, date_upload: img.date_upload, id_lieu: img.id_lieu, base64:file64};\n\t       \t\t\t\timage_array.push(img)\n\t       \t\t\t\ttry{\n\t       \t\t\t\t\tthis.rezoom.sendImageBase64(img_json).subscribe(data =>{\n\t\t       \t\t\t\t\t\n\t\t       \t\t\t\t\tif(data.status ===\"ok\"){\n\t\t       \t\t\t\t\t\t\n\t\t       \t\t\t\t\t\tthis.uploaded = true;\n\t\t       \t\t\t\t\t\tthis.nativeStorage.remove(\"images\");\n\t\t       \t\t\t\t\t}\n\t\t       \t\t\t\t\t\n\t\t       \t\t\t\t\t\n\t\t       \t\t\t\t});\n\t       \t\t\t\t} catch(err){\n\t       \t\t\t\t\talert(\"ERROR : \"+err)\n\t       \t\t\t\t}\n\t\t       \t\t\t\t\n\t       \t}\n\n\t       \tthis.imgstr = JSON.stringify(this.images);\n\n\t       \t\n\t       \t\n\t     }\n\t });\n  \t\n  }\n\n  ionViewWillEnter(){\n  \t\n  }\n\n  public clear(){\n  \tthis.nativeStorage.remove('images');\n  }\n\n   public pathForImage(img) {\n\t  if (img === null) {\n\t    return '';\n\t  } else {\n\t    return cordova.file.dataDirectory + img;\n\t  }\n\t}\n\n\t\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload/upload.ts"],"sourceRoot":""}